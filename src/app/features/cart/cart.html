<div class="cart">
  <div class="cart__content" [hidden]="!showCart">
    <h2>{{ 'cart.title' | translate }}</h2>

    <table>
      <thead>
        <tr>
          <th>{{ 'cart.tableColumns.product' | translate }}</th>
          <th>{{ 'cart.tableColumns.amount' | translate }}</th>
          <th>{{ 'cart.tableColumns.price' | translate }}</th>
          <th colspan="2">{{ 'cart.tableColumns.total' | translate }}</th>
        </tr>
      </thead>
      <tbody>
        @for (product of cart || []; track product.product.id) {
          <tr>
            <td>{{ product.product.name }}</td>
            <td>{{ product.amount }}</td>
            <td>{{ formatPrice(product.product.prices.wholesale) }}</td>
            <td>{{ formatPrice(product.product.prices.wholesale * product.amount) }}</td>
            <td><fa-icon [icon]="trashIcon" (click)="removeProduct(product)"></fa-icon></td>
          </tr>
        }
      </tbody>
      <tfoot>
        <tr>
          <td colspan="4">{{ 'cart.tableColumns.total' | translate }}</td>
          <td>
            {{ getTotalPrice() }}
          </td>
        </tr>
      </tfoot>
    </table>

    <button class="cart__buy" (click)="placeOrder()" [disabled]="!canBuy()">
      {{ 'cart.placeOrder' | translate }}
    </button>
  </div>

  <button class="cart__button" (click)="toggleCart()">
    <div class="cart__item-count">{{ productCount }}</div>
    <fa-icon [icon]="faShoppingCart"></fa-icon>
  </button>
</div>
